<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã–zel EÄŸitim & GeliÅŸim | BarÄ±ÅŸ Ä°lkan</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #f0fdfa; color: #333; padding-bottom: 50px; }
        
        /* HEADER */
        header { background: linear-gradient(135deg, #0d9488 0%, #115e59 100%); padding: 30px 20px; text-align: center; color: white; border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; box-shadow: 0 10px 20px rgba(13, 148, 136, 0.2); }
        .back-btn { display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 8px 15px; border-radius: 20px; text-decoration: none; font-weight: bold; margin-bottom: 15px; backdrop-filter: blur(5px); }
        .container { max-width: 850px; margin: 30px auto; padding: 0 15px; }
        
        /* BAÅžLIK VE GRID YAPISI (Ä°lkokul TarzÄ±) */
        .section-title { font-weight: 800; color: #0f766e; margin: 40px 0 20px; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; }
        .section-title::after { content: ''; flex: 1; height: 2px; background: #ccfbf1; margin-left: 10px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }

        /* KART TASARIMI */
        .tool-card { background: white; border-radius: 15px; padding: 20px; display: flex; align-items: center; gap: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.03); border: 1px solid #e2e8f0; transition: 0.3s; cursor: pointer; text-decoration: none; color: inherit; position: relative; overflow: hidden; }
        .tool-card:hover { transform: translateY(-5px); border-color: #0d9488; box-shadow: 0 10px 20px rgba(13, 148, 136, 0.1); }
        .icon-box { width: 50px; height: 50px; background: #ccfbf1; color: #0d9488; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; flex-shrink: 0; }
        .card-info h3 { margin: 0 0 5px; font-size: 1.1rem; }
        .card-info p { margin: 0; font-size: 0.85rem; color: #64748b; }

        /* YAZI LÄ°STESÄ° */
        .article-item { background: white; border-left: 5px solid #f59e0b; padding: 20px; border-radius: 10px; margin-bottom: 15px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .article-item:hover { transform: translateX(5px); }
        .article-title { font-weight: bold; font-size: 1.05rem; color: #333; display: block; margin-bottom: 5px; }
        .read-badge { font-size: 0.75rem; background: #fef3c7; color: #d97706; padding: 3px 8px; border-radius: 5px; font-weight: bold; }

        /* MODAL */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .report-modal { background: white; padding: 25px; border-radius: 20px; width: 90%; max-width: 600px; max-height: 80vh; overflow-y: auto; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .article-content { line-height: 1.7; color: #333; }

    </style>
</head>
<body>

    <header>
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Ana Sayfa</a>
        <h1>Ã–zel EÄŸitim & GeliÅŸim</h1>
        <div style="margin-top:5px;">"Her Ã§ocuk Ã¶zeldir, her geliÅŸim bir mucizedir."</div>
    </header>

    <div class="container">

        <div class="section-title"><i class="fas fa-star"></i> Ã–ne Ã‡Ä±kan Ã‡alÄ±ÅŸma</div>
        <div class="grid">
            <a href="https://baris-ogretmen.github.io/rapor-degerlendirme/" class="tool-card" style="border-left: 5px solid #d97706; background:#fffbf0;">
                <div class="icon-box" style="background:#fffbeb; color:#d97706;"><i class="fas fa-file-signature"></i></div>
                <div class="card-info">
                    <h3>RAM Rapor Analizi</h3>
                    <p>TÃ¼rkiye'de Ä°lk! RAM raporlarÄ±nÄ± analiz edin.</p>
                    <span style="font-size:0.75rem; background:#d97706; color:white; padding:2px 8px; border-radius:10px; font-weight:bold;">âœ¨ VIP ARAÃ‡</span>
                </div>
            </a>
        </div>

        <div class="section-title"><i class="fas fa-gamepad"></i> Dijital Materyaller</div>
        <div class="grid">
            <a href="https://baris-ogretmen.github.io/sevimli-canavar/" class="tool-card" style="border-left: 5px solid #ec4899;">
                <div class="icon-box" style="background:#fce7f3; color:#ec4899;"><i class="fas fa-ghost"></i></div>
                <div class="card-info"><h3>Sevimli Canavar</h3><p>GÃ¶rsel algÄ± ve dikkat Ã§alÄ±ÅŸmasÄ±.</p></div>
            </a>

            <a href="https://baris-ogretmen.github.io/goz-temasi/" class="tool-card" style="border-left: 5px solid #3b82f6;">
                <div class="icon-box" style="background:#eff6ff; color:#3b82f6;"><i class="fas fa-eye"></i></div>
                <div class="card-info"><h3>GÃ¶z TemasÄ± Ã‡alÄ±ÅŸmasÄ±</h3><p>Otizm iÃ§in gÃ¶z takip uygulamasÄ±.</p></div>
            </a>
        </div>

        <div id="panel-baslik" class="section-title" style="display:none;"><i class="fas fa-plus-circle"></i> Yeni Eklenenler</div>
        <div id="panel-oyunlari" class="grid"></div>

        <div class="section-title"><i class="fas fa-chart-line"></i> GeliÅŸim Takibi</div>
        <div class="grid">
            <a href="#" onclick="karneAc()" class="tool-card">
                <div class="icon-box"><i class="fas fa-clipboard-check"></i></div>
                <div class="card-info"><h3>GeliÅŸim Karnesi</h3><p>Ã–ÄŸrenci ilerleme raporu.</p></div>
            </a>
            
            <a href="#" onclick="alert('Testler yakÄ±nda eklenecek!')" class="tool-card">
                <div class="icon-box"><i class="fas fa-tasks"></i></div>
                <div class="card-info"><h3>Tarama Testleri</h3><p>0-6 yaÅŸ geliÅŸim envanteri (YakÄ±nda).</p></div>
            </a>
        </div>

        <div class="section-title"><i class="fas fa-book-reader"></i> BarÄ±ÅŸ Hoca'dan Tavsiyeler</div>
        <div id="yazi-listesi">
            <div style="text-align:center; color:#999; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> YazÄ±lar yÃ¼kleniyor...</div>
        </div>

    </div>

    <div class="modal-overlay" id="yazi-modal">
        <div class="report-modal">
            <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #eee; padding-bottom:10px; margin-bottom:15px;">
                <h3 id="modal-baslik" style="margin:0; color:#0d9488;"></h3>
                <i class="fas fa-times" onclick="kapat('yazi-modal')" style="cursor:pointer; font-size:1.5rem; color:#999;"></i>
            </div>
            <div id="modal-icerik" class="article-content"></div>
        </div>
    </div>

    <div class="modal-overlay" id="karne-modal">
        <div class="report-modal" style="background:#0f172a; color:white;">
            <div style="display:flex; justify-content:space-between; margin-bottom: 20px;">
                <h3 style="margin:0; color: #2dd4bf;">ðŸ“Š GeliÅŸim Karnesi Ã–rneÄŸi</h3>
                <i class="fas fa-times" onclick="kapat('karne-modal')" style="cursor:pointer;"></i>
            </div>
            <p>Bu alan Ã¶ÄŸrenciye Ã¶zel verilerle dolacak.</p>
            <div style="margin:20px 0;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>Ä°nce Motor</span><span>%70</span></div>
                <div style="background:#334155; height:10px; border-radius:10px;"><div style="width:70%; height:100%; background:#2dd4bf; border-radius:10px;"></div></div>
            </div>
        </div>
    </div>

    <script>
        const db = firebase.firestore();
        let makaleVerileri = {};

        // 1. PANEL OYUNLARINI Ã‡EK (Ä°LKOKUL GÄ°BÄ° Ã‡ALIÅžAN KISIM)
        db.collection("projeler").get().then((snapshot) => {
            const liste = document.getElementById("panel-oyunlari");
            const baslik = document.getElementById("panel-baslik");
            
            snapshot.forEach((doc) => {
                const veri = doc.data();
                // Kategori ismini kÃ¼Ã§Ã¼k harfe Ã§evirip kontrol et
                let kat = (veri.kategori || "").toLowerCase();

                if (kat.includes("Ã¶zel") || kat.includes("ozel")) {
                    // Sabit olanlarÄ± tekrar gÃ¶sterme
                    const sabitLinkler = [
                        "https://baris-ogretmen.github.io/rapor-degerlendirme/",
                        "https://baris-ogretmen.github.io/sevimli-canavar/",
                        "https://baris-ogretmen.github.io/goz-temasi/"
                    ];

                    if (!sabitLinkler.includes(veri.link)) {
                        baslik.style.display = "block"; // BaÅŸlÄ±ÄŸÄ± gÃ¶rÃ¼nÃ¼r yap
                        
                        // YENÄ° EKLENEN KART (Grid YapÄ±sÄ±na Uygun)
                        liste.innerHTML += `
                            <a href="${veri.link}" target="_blank" class="tool-card" style="border-left: 5px solid #2ecc71; background:#f0fdf4;">
                                <div class="icon-box" style="background:#dcfce7; color:#2ecc71;"><i class="fas fa-puzzle-piece"></i></div>
                                <div class="card-info">
                                    <h3>${veri.baslik}</h3>
                                    <p>${veri.aciklama || 'Yeni Ã¶zel eÄŸitim materyali.'}</p>
                                </div>
                            </a>`;
                    }
                }
            });
        });

        // 2. YAZILARI Ã‡EK (ORJÄ°NAL YAPI)
        db.collection("yazilar").orderBy("tarih", "desc").onSnapshot(snap => {
            let html = "";
            if (snap.empty) {
                document.getElementById('yazi-listesi').innerHTML = "<div style='text-align:center; padding:20px; color:#999;'>HenÃ¼z yazÄ± eklenmemiÅŸ.</div>";
                return;
            }
            snap.forEach(doc => {
                const y = doc.data();
                makaleVerileri[doc.id] = y.icerik;
                html += `
                <div class="article-item" onclick="yaziAc('${doc.id}', '${y.baslik}')">
                    <span class="article-title">${y.baslik}</span>
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:5px;">
                        <span style="font-size:0.8rem; color:#888;">${new Date(y.tarih).toLocaleDateString('tr-TR')}</span>
                        <span class="read-badge">OKU &rarr;</span>
                    </div>
                </div>`;
            });
            document.getElementById('yazi-listesi').innerHTML = html;
        });

        // MODAL FONKSÄ°YONLARI
        function yaziAc(id, baslik) {
            document.getElementById('modal-baslik').innerText = baslik;
            document.getElementById('modal-icerik').innerHTML = makaleVerileri[id];
            document.getElementById('yazi-modal').style.display = 'flex';
        }
        function karneAc() { document.getElementById('karne-modal').style.display = 'flex'; }
        function kapat(id) { document.getElementById(id).style.display = 'none'; }
        window.onclick = function(event) { if (event.target.classList.contains('modal-overlay')) { event.target.style.display = "none"; } }
    </script>

</body>
</html>
