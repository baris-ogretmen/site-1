<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Resim BaÄŸlama AracÄ±</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #e0f2fe; }
        .kutu { background: white; padding: 40px; border-radius: 20px; text-align: center; border: 3px solid #0284c7; max-width: 500px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { color: #0369a1; }
        p { color: #333; font-size: 1.1rem; }
        button { background: #0284c7; color: white; border: none; padding: 15px 30px; font-size: 1.3rem; font-weight: bold; border-radius: 10px; cursor: pointer; margin-top: 20px; width: 100%; transition: 0.2s; }
        button:hover { background: #075985; transform: scale(1.02); }
        #durum { margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="kutu">
        <h2>ğŸ”§ Resim BaÄŸlama AracÄ±</h2>
        <p>GitHub'a yÃ¼klediÄŸin <b>rab1.jpg, rab2.jpg...</b> dosyalarÄ±nÄ± hikayeye baÄŸlamak iÃ§in butona bas.</p>
        <button onclick="resimleriBagla()">RESÄ°MLERÄ° BAÄLA</button>
        <div id="durum"></div>
    </div>

    <script>
        function resimleriBagla() {
            const db = firebase.firestore();
            const durum = document.getElementById("durum");
            durum.innerText = "â³ Resimler baÄŸlanÄ±yor...";

            // SENÄ°N KÄ°TABIN ID'SÄ° (Ekrandan aldÄ±m)
            const kitapID = "dt8snrbRkivYCHnDPzKF";

            // YENÄ° VERÄ° (Senin 'rab' resimlerini kullanacak)
            const yeniVeri = {
                baslik: "Kalplerin Kandili: Ä°mam Rabbaniâ€™nin YolculuÄŸu",
                sayfalar: [
                    {
                        // 1. Sayfa (Kapak) -> rab1.jpg
                        img: "rab1.jpg", 
                        text: "<h2 style='color:#ea580c;'>Kalplerin Kandili</h2><br>Ã‡ok uzun zaman Ã¶nce, Hindistanâ€™Ä±n Sarhind kasabasÄ±nda <b>Ahmad</b> adÄ±nda bir Ã§ocuk yaÅŸardÄ±.<br><br>BabasÄ± Abdal-Ahad, oÄŸlundaki bu Ã¶ÄŸrenme aÅŸkÄ±nÄ± gÃ¶rÃ¼nce gÃ¼lÃ¼msedi:<br><b style='color:#d97706;'>'Bilgi, karanlÄ±kta yolunu bulmanÄ± saÄŸlayan bir yÄ±ldÄ±zdÄ±r Ahmad.'</b>"
                    },
                    {
                        // 2. Sayfa -> rab2.jpg
                        img: "rab2.jpg",
                        text: "KÃ¼Ã§Ã¼k Ahmad, o gece yÄ±ldÄ±zlara bakarak iÃ§inden bir sÃ¶z verdi: <b style='color:#059669;'>Sadece kendisi iÃ§in deÄŸil, herkes iÃ§in bir Ä±ÅŸÄ±k olacaktÄ±.</b><br><br>'GerÃ§ek bilgi sadece zihinle deÄŸil, kalple Ã¶ÄŸrenilir' diye dÃ¼ÅŸÃ¼ndÃ¼."
                    },
                    {
                        // 3. Sayfa -> rab3.jpg
                        img: "rab3.jpg",
                        text: "Sonunda Delhi ÅŸehrine ulaÅŸtÄ± ve bilge Ã¶ÄŸretmen Baqi ile tanÄ±ÅŸtÄ±.<br><br>EÄŸitimini tamamlayan Ahmad, artÄ±k <b>'Ä°mam Rabbani'</b> olarak anÄ±lÄ±yordu. Ã–ÄŸrencisine ÅŸÃ¶yle dedi:<br><b style='color:#dc2626;'>'En bÃ¼yÃ¼k ders; dÃ¼rÃ¼stlÃ¼k ve sevgiyle yoÄŸrulmuÅŸ bir ahlaktÄ±r evladÄ±m.'</b>"
                    },
                    {
                        // 4. Sayfa -> rab4.jpg
                        img: "rab4.jpg",
                        text: "HaksÄ±zlÄ±klar artÄ±nca doÄŸruyu sÃ¶ylediÄŸi iÃ§in hapse atÄ±ldÄ± ama o zindanÄ± bile okula Ã§evirdi.<br><br>Binlerce mektup yazdÄ±. <b style='color:#059669;'>YazdÄ±ÄŸÄ± her kelime, bir kalbi iyileÅŸtiriyordu.</b>"
                    },
                    {
                        // 5. Sayfa -> rab5.jpg
                        img: "rab5.jpg",
                        text: "Bir gÃ¼n bahÃ§ede yÃ¼rÃ¼rken, <b style='color:#ea580c;'>'En kÃ¼Ã§Ã¼k karÄ±ncadan en bÃ¼yÃ¼k yÄ±ldÄ±za kadar her ÅŸey bize bir ÅŸeyler anlatÄ±r,'</b> dedi.<br><br><b style='color:#2563eb;'>Kalbinde sevgi ve zihninde doÄŸru bilgi olan hiÃ§ kimse, yolunu asla kaybetmez.</b><br><br><b>-SON-</b>"
                    }
                ]
            };

            // VERÄ°TABANINI GÃœNCELLE
            db.collection("dijital_kitaplar").doc(kitapID).update(yeniVeri)
            .then(() => {
                durum.innerHTML = "âœ… BAÅARILI! Resimler baÄŸlandÄ±.";
                durum.style.color = "green";
                alert("TamamdÄ±r hocam! Åimdi gidip kitaba bakabilirsin, resimler gelmiÅŸ olmalÄ±.");
            })
            .catch((error) => {
                durum.innerHTML = "Hata: " + error.message;
                durum.style.color = "red";
            });
        }
    </script>
</body>
</html>
