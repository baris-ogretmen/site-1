<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BarÄ±ÅŸ SatranÃ§ Akademisi</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { margin: 0; font-family: 'Merriweather', serif; background: #f0fdf4; color: #14532d; }
        
        /* HEADER (YeÅŸil-Beyaz SatranÃ§ TemasÄ±) */
        header { 
            background: #15803d; padding: 30px; text-align: center; color: white; 
            border-bottom: 10px solid #166534; position: relative;
        }
        .back-btn { display: inline-block; background: white; color: #15803d; padding: 8px 15px; border-radius: 5px; text-decoration: none; font-weight: bold; margin-bottom: 15px; font-family: sans-serif; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
        h1 { margin: 0; font-size: 2rem; letter-spacing: 1px; }
        .chess-icon { font-size: 3rem; margin-bottom: 10px; display: block; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3)); }

        .container { max-width: 800px; margin: 30px auto; padding: 0 15px; }

        .section-header { text-align: center; margin-bottom: 30px; font-weight: bold; font-size: 1.2rem; color: #166534; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid #bbf7d0; display: inline-block; padding-bottom: 5px; }

        /* LÄ°STE TASARIMI */
        .chess-list { list-style: none; padding: 0; }
        
        /* Hem static div hem dinamik 'a' etiketi iÃ§in ortak stil */
        .chess-item { 
            background: white; border-radius: 8px; padding: 20px; margin-bottom: 15px; 
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-left: 6px solid #166534;
            transition: 0.3s; cursor: pointer; border: 1px solid #dcfce7;
            text-decoration: none; color: inherit; /* Link olursa bozulmasÄ±n diye */
        }
        .chess-item:hover { transform: translateX(5px); background: #f0fdf4; border-color: #15803d; }
        
        .item-content h3 { margin: 0 0 5px; font-size: 1.1rem; color: #166534; }
        .item-content p { margin: 0; font-size: 0.85rem; color: #666; font-family: sans-serif; }
        
        .play-icon { font-size: 1.5rem; color: #15803d; width: 40px; text-align: center; }

        .quote-box { text-align: center; font-style: italic; color: #4b5563; margin-top: 40px; padding: 20px; border-top: 1px solid #bbf7d0; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.03); }
        
        /* Dinamik BÃ¶lÃ¼m BaÅŸlÄ±ÄŸÄ± */
        #dinamik-baslik { display: none; margin-top: 40px; text-align: center; }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Ana Sayfa</a>
        <i class="fas fa-chess-knight chess-icon"></i>
        <h1>BarÄ±ÅŸ SatranÃ§<br>Akademisi</h1>
    </header>

    <div class="container">
        
        <div style="text-align: center;">
            <div class="section-header">â™Ÿï¸ EÄŸitim & Antrenman</div>
        </div>

        <div class="chess-list">
            <div class="chess-item" onclick="alert('Analiz videolarÄ± yakÄ±nda!')">
                <div class="item-content">
                    <h3>Hamle Analizleri</h3>
                    <p>BÃ¼yÃ¼k ustalarÄ±n maÃ§larÄ±ndan kritik anlar ve dersler.</p>
                </div>
                <div class="play-icon"><i class="fas fa-video"></i></div>
            </div>

            <div class="chess-item" onclick="alert('Soru Ã§Ã¶zÃ¼mÃ¼ yakÄ±nda!')">
                <div class="item-content">
                    <h3>GÃ¼nÃ¼n BulmacasÄ±</h3>
                    <p>MatÄ± bulabilir misin? Zihnini satranÃ§la keskinleÅŸtir.</p>
                </div>
                <div class="play-icon"><i class="fas fa-puzzle-piece"></i></div>
            </div>

            <div class="chess-item" onclick="alert('Turnuva takvimi henÃ¼z aÃ§Ä±klanmadÄ±.')">
                <div class="item-content">
                    <h3>Turnuva HazÄ±rlÄ±k</h3>
                    <p>Turnuva kurallarÄ±, saat kullanÄ±mÄ± ve psikolojik hazÄ±rlÄ±k.</p>
                </div>
                <div class="play-icon"><i class="fas fa-trophy"></i></div>
            </div>
        </div>

        <div id="dinamik-baslik">
            <div class="section-header">ğŸ†• Yeni Ã‡alÄ±ÅŸmalar</div>
        </div>
        <div id="panel-projeleri" class="chess-list"></div>
        
        <div class="quote-box">
            "SatranÃ§ tahtasÄ±nda insan ruhunun tÃ¼m halleri vardÄ±r."
        </div>

    </div>

    <script>
        const db = firebase.firestore();

        // Panelden Eklenen "SatranÃ§" OyunlarÄ±nÄ± Ã‡ek
        db.collection("projeler").orderBy("tarih", "desc").onSnapshot(snapshot => {
            const liste = document.getElementById("panel-projeleri");
            const baslik = document.getElementById("dinamik-baslik");
            let html = "";

            snapshot.forEach(doc => {
                const veri = doc.data();
                // Kategori kontrolÃ¼ (SatranÃ§, Chess vb.)
                const kat = (veri.kategori || "").toLowerCase();

                if(kat.includes("satranÃ§") || kat.includes("chess")) {
                    baslik.style.display = "block"; // BaÅŸlÄ±ÄŸÄ± gÃ¶ster
                    
                    html += `
                    <a href="${veri.link}" target="_blank" class="chess-item">
                        <div class="item-content">
                            <h3>${veri.baslik}</h3>
                            <p>${veri.aciklama || 'Yeni satranÃ§ Ã§alÄ±ÅŸmasÄ±.'}</p>
                        </div>
                        <div class="play-icon"><i class="fas fa-chess-board"></i></div>
                    </a>`;
                }
            });

            liste.innerHTML = html;
        });
    </script>

</body>
</html>
