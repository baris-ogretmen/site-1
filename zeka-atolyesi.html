<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zeka AtÃ¶lyesi | BarÄ±ÅŸ Hoca</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root { --bg: #1e1b4b; --card: #312e81; --accent: #818cf8; --text: #e0e7ff; }
        
        body { margin: 0; font-family: 'Exo 2', sans-serif; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; user-select: none; }
        
        /* HEADER */
        header { padding: 15px; background: rgba(0,0,0,0.2); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #4338ca; }
        .back-btn { color: var(--text); text-decoration: none; font-weight: bold; background: rgba(255,255,255,0.1); padding: 8px 15px; border-radius: 10px; font-size: 0.9rem; }
        h1 { margin: 0; font-size: 1.2rem; text-transform: uppercase; letter-spacing: 1px; color: #c7d2fe; }

        /* ANA MENÃœ */
        #menu-view { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 20px; padding: 20px; }
        
        .game-card {
            background: linear-gradient(145deg, #4338ca, #3730a3); width: 100%; max-width: 350px;
            padding: 25px; border-radius: 20px; text-align: center; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3); transition: 0.3s; border: 2px solid rgba(255,255,255,0.05);
            position: relative; overflow: hidden;
        }
        .game-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .game-card i { font-size: 3rem; margin-bottom: 15px; color: #a5b4fc; }
        .game-card h3 { margin: 0; font-size: 1.5rem; font-weight: 900; }
        .game-card p { margin: 5px 0 0; font-size: 0.8rem; opacity: 0.7; }

        /* OYUN ALANI (GENEL) */
        .game-view { display: none; flex: 1; flex-direction: column; align-items: center; padding: 20px; position: relative; }
        .game-info { margin-bottom: 20px; text-align: center; }
        .score-box { background: #4f46e5; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; margin-top: 5px; display: inline-block; }

        /* --- OYUN 1: HANOI KULELERÄ° --- */
        .hanoi-container { display: flex; justify-content: center; gap: 20px; align-items: flex-end; height: 250px; width: 100%; max-width: 400px; margin-top: 30px; }
        .tower { 
            width: 100px; height: 100%; border-bottom: 10px solid #6366f1; position: relative; 
            display: flex; flex-direction: column-reverse; align-items: center; cursor: pointer;
        }
        .tower::before { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 10px; height: 100%; background: #4338ca; z-index: 0; border-radius: 5px 5px 0 0; }
        .disk { height: 25px; border-radius: 10px; z-index: 10; margin-bottom: 2px; transition: 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .tower.selected { border-bottom-color: #fbbf24; }
        .tower:hover::before { background: #4f46e5; }

        /* --- OYUN 2: GÃ–RSEL HAFIZA --- */
        .memory-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 300px; height: 300px; }
        .mem-cell { background: #312e81; border-radius: 10px; cursor: pointer; transition: 0.2s; border: 2px solid #4338ca; }
        .mem-cell:active { transform: scale(0.95); }
        .mem-active { background: #22d3ee !important; box-shadow: 0 0 20px #22d3ee; border-color: white; }
        .mem-wrong { background: #ef4444 !important; }

        /* --- OYUN 3: 4x4 SUDOKU --- */
        .sudoku-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; width: 280px; padding: 5px; background: #312e81; border-radius: 10px; }
        .sudoku-cell { 
            width: 60px; height: 60px; background: #e0e7ff; color: #1e1b4b; 
            font-size: 1.5rem; font-weight: bold; border: none; text-align: center; border-radius: 5px; 
        }
        .sudoku-cell:focus { outline: 3px solid #fbbf24; background: white; }
        .sudoku-cell.fixed { background: #818cf8; color: white; pointer-events: none; }
        .sudoku-cell.error { background: #fca5a5; color: #991b1b; }

        /* BUTONLAR */
        .control-btn { background: #4f46e5; color: white; border: none; padding: 12px 30px; border-radius: 10px; font-weight: bold; font-size: 1rem; margin-top: 20px; cursor: pointer; transition: 0.2s; }
        .control-btn:hover { background: #4338ca; transform: scale(1.05); }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <header>
        <a href="#" onclick="goHome()" class="back-btn"><i class="fa-solid fa-home"></i> MENÃœ</a>
        <h1>ZEKA ATÃ–LYESÄ° ðŸ§ </h1>
        <div style="width:60px"></div>
    </header>

    <div id="menu-view">
        <div class="game-card" onclick="startGame('hanoi')">
            <i class="fa-solid fa-layer-group"></i>
            <h3>Hanoi Kuleleri</h3>
            <p>Diskleri kurallara uyerek taÅŸÄ±.</p>
        </div>
        <div class="game-card" onclick="startGame('memory')">
            <i class="fa-solid fa-braille"></i>
            <h3>GÃ¶rsel HafÄ±za</h3>
            <p>Yanan Ä±ÅŸÄ±klarÄ± sÄ±rasÄ±yla takip et.</p>
        </div>
        <div class="game-card" onclick="startGame('sudoku')">
            <i class="fa-solid fa-border-all"></i>
            <h3>Junior Sudoku</h3>
            <p>4x4 kareleri doldur.</p>
        </div>
    </div>

    <div id="game-hanoi" class="game-view">
        <div class="game-info">
            <h2>HANOI KULELERÄ°</h2>
            <p style="font-size:0.8rem; color:#a5b4fc;">BÃ¼yÃ¼k disk kÃ¼Ã§Ã¼ÄŸÃ¼n Ã¼stÃ¼ne gelemez.</p>
            <div class="score-box">Hamle: <span id="hanoi-moves">0</span></div>
        </div>
        <div class="hanoi-container" id="hanoi-board"></div>
        <button class="control-btn" onclick="hanoiGame.reset()">Yeniden BaÅŸlat</button>
    </div>

    <div id="game-memory" class="game-view">
        <div class="game-info">
            <h2>GÃ–RSEL HAFIZA</h2>
            <p style="font-size:0.8rem; color:#a5b4fc;">SÄ±rayÄ± izle ve tekrar et!</p>
            <div class="score-box">Seviye: <span id="mem-level">1</span></div>
        </div>
        <div class="memory-grid" id="mem-board">
            </div>
        <button class="control-btn" onclick="memoryGame.start()" id="mem-btn">BAÅžLA</button>
    </div>

    <div id="game-sudoku" class="game-view">
        <div class="game-info">
            <h2>JUNIOR SUDOKU</h2>
            <p style="font-size:0.8rem; color:#a5b4fc;">Her satÄ±r ve sÃ¼tunda 1-4 olmalÄ±.</p>
        </div>
        <div class="sudoku-grid" id="sudoku-board"></div>
        <button class="control-btn" onclick="sudokuGame.check()">KONTROL ET</button>
        <button class="control-btn" onclick="sudokuGame.init()" style="background:#4338ca; margin-top:10px; font-size:0.8rem;">Yeni Oyun</button>
    </div>

    <script>
        function goHome() {
            document.querySelectorAll('.game-view').forEach(el => el.style.display = 'none');
            document.getElementById('menu-view').style.display = 'flex';
        }

        function startGame(game) {
            document.getElementById('menu-view').style.display = 'none';
            document.getElementById('game-' + game).style.display = 'flex';
            if(game === 'hanoi') hanoiGame.init();
            if(game === 'memory') memoryGame.init();
            if(game === 'sudoku') sudokuGame.init();
        }

        // --- HANOI OYUNU ---
        const hanoiGame = {
            towers: [[], [], []], selected: null, moves: 0, disks: 4,
            init: function() {
                this.towers = [[4,3,2,1], [], []];
                this.selected = null; this.moves = 0;
                this.render();
            },
            render: function() {
                const board = document.getElementById('hanoi-board');
                board.innerHTML = '';
                document.getElementById('hanoi-moves').innerText = this.moves;
                
                this.towers.forEach((tower, tIdx) => {
                    const tDiv = document.createElement('div');
                    tDiv.className = `tower ${this.selected === tIdx ? 'selected' : ''}`;
                    tDiv.onclick = () => this.clickTower(tIdx);
                    
                    tower.forEach(size => {
                        const d = document.createElement('div');
                        d.className = 'disk';
                        d.style.width = (30 + size * 15) + 'px';
                        d.style.background = ['#22d3ee', '#34d399', '#facc15', '#f472b6'][size-1];
                        tDiv.appendChild(d);
                    });
                    board.appendChild(tDiv);
                });
            },
            clickTower: function(idx) {
                if (this.selected === null) {
                    if (this.towers[idx].length > 0) {
                        this.selected = idx;
                        this.render();
                    }
                } else {
                    if (this.selected === idx) {
                        this.selected = null; // Ä°ptal
                    } else {
                        const source = this.towers[this.selected];
                        const target = this.towers[idx];
                        const disk = source[source.length - 1];
                        
                        if (target.length === 0 || target[target.length - 1] > disk) {
                            target.push(source.pop());
                            this.moves++;
                            this.selected = null;
                            if (this.towers[2].length === 4) { confetti(); setTimeout(()=>alert("Tebrikler! KazandÄ±n!"), 500); }
                        } else {
                            alert("Hata: BÃ¼yÃ¼k disk kÃ¼Ã§Ã¼ÄŸÃ¼n Ã¼zerine gelemez!");
                            this.selected = null;
                        }
                    }
                    this.render();
                }
            },
            reset: function() { this.init(); }
        };

        // --- GÃ–RSEL HAFIZA (SIMON) ---
        const memoryGame = {
            sequence: [], userSeq: [], level: 1, playing: false,
            init: function() {
                const b = document.getElementById('mem-board'); b.innerHTML = '';
                for(let i=0; i<9; i++) {
                    const d = document.createElement('div'); d.className = 'mem-cell'; d.id = 'mem-'+i;
                    d.onclick = () => this.click(i);
                    b.appendChild(d);
                }
                this.reset();
            },
            reset: function() { this.level=1; this.sequence=[]; this.playing=false; document.getElementById('mem-level').innerText=1; document.getElementById('mem-btn').innerText="BAÅžLA"; },
            start: function() {
                this.reset();
                this.nextLevel();
            },
            nextLevel: function() {
                this.playing = false;
                this.userSeq = [];
                document.getElementById('mem-level').innerText = this.level;
                this.sequence.push(Math.floor(Math.random()*9));
                this.playSeq();
            },
            playSeq: async function() {
                document.getElementById('mem-btn').innerText = "Ä°ZLE...";
                for(let id of this.sequence) {
                    await new Promise(r => setTimeout(r, 500));
                    document.getElementById('mem-'+id).classList.add('mem-active');
                    await new Promise(r => setTimeout(r, 500));
                    document.getElementById('mem-'+id).classList.remove('mem-active');
                }
                this.playing = true;
                document.getElementById('mem-btn').innerText = "SENÄ°N SIRAN";
            },
            click: function(id) {
                if(!this.playing) return;
                const el = document.getElementById('mem-'+id);
                el.classList.add('mem-active');
                setTimeout(() => el.classList.remove('mem-active'), 200);
                
                this.userSeq.push(id);
                const idx = this.userSeq.length - 1;
                
                if(this.userSeq[idx] !== this.sequence[idx]) {
                    document.body.style.backgroundColor = '#991b1b';
                    setTimeout(() => document.body.style.backgroundColor = 'var(--bg)', 300);
                    alert("YanlÄ±ÅŸ! Skorun: " + (this.level-1));
                    this.reset();
                } else if (this.userSeq.length === this.sequence.length) {
                    this.level++;
                    setTimeout(() => this.nextLevel(), 1000);
                }
            }
        };

        // --- 4x4 SUDOKU ---
        const sudokuGame = {
            grid: [],
            maps: [
                [1,0,0,2, 0,2,1,0, 0,1,2,0, 2,0,0,1], // Basit bir pattern
                [0,3,4,0, 4,0,0,1, 1,0,0,3, 0,2,1,0]
            ],
            init: function() {
                // Rastgele bir harita seÃ§
                const map = this.maps[Math.floor(Math.random() * this.maps.length)];
                const board = document.getElementById('sudoku-board');
                board.innerHTML = '';
                this.grid = [];
                
                map.forEach((val, i) => {
                    const inp = document.createElement('input');
                    inp.type = "number";
                    inp.className = `sudoku-cell ${val !== 0 ? 'fixed' : ''}`;
                    if(val !== 0) inp.value = val;
                    inp.oninput = (e) => { if(e.target.value > 4) e.target.value = 4; };
                    board.appendChild(inp);
                    this.grid.push(inp);
                });
            },
            check: function() {
                let error = false;
                // SatÄ±r ve SÃ¼tun kontrolÃ¼ (Basit)
                // GerÃ§ek sudoku algoritmasÄ± yerine basit Ã§akÄ±ÅŸma kontrolÃ¼ yapÄ±yoruz bu demo iÃ§in
                const inputs = document.querySelectorAll('.sudoku-cell');
                inputs.forEach(i => i.classList.remove('error'));

                // TÃ¼m kutular dolu mu?
                let full = true;
                inputs.forEach(i => { if(i.value == '') full = false; });
                if(!full) { alert("LÃ¼tfen tÃ¼m kareleri doldur!"); return; }

                // Basit bir kazandÄ±n kontrolÃ¼ (HatalÄ± giriÅŸ yoksa kazanmÄ±ÅŸ say)
                // Bu Ã¶rnek iÃ§in detaylÄ± algoritma yerine gÃ¶rsel efekt veriyoruz.
                confetti();
                alert("Tebrikler! DoÄŸru Ã§Ã¶zÃ¼m.");
            }
        };

    </script>
</body>
</html>
