<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BarÄ±ÅŸ Hoca | EÄŸitim Kokpiti v8.0 Ultimate</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="firebase-config.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --ana: #4f46e5; --yesil: #10b981; --sari: #f59e0b; --kirmizi: #ef4444; --koyu: #1e293b; --acik: #f8fafc; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--acik); color: var(--koyu); margin: 0; padding: 20px; }

        /* GÄ°RÄ°Å EKRANI */
        #login-screen { position: fixed; inset: 0; background: linear-gradient(135deg, #312e81, #4338ca); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .login-box { background: white; padding: 40px; border-radius: 20px; width: 100%; max-width: 380px; text-align: center; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .inp { width: 100%; padding: 14px; border: 2px solid #e2e8f0; border-radius: 12px; margin-bottom: 15px; box-sizing: border-box; font-family: inherit; font-size: 0.95rem; transition: 0.3s; }
        .inp:focus { border-color: var(--ana); outline: none; }
        .btn { width: 100%; padding: 14px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 1rem; }
        .btn-primary { background: var(--ana); color: white; }
        .btn-success { background: var(--yesil); color: white; }
        .btn-danger { background: var(--kirmizi); color: white; }
        .btn:hover { transform: translateY(-2px); filter: brightness(1.1); }

        /* HEADER */
        #panel-container { display: none; max-width: 1200px; margin: 0 auto; padding-bottom: 100px; }
        .header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; background: white; padding: 20px 30px; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.03); }
        
        /* GÃœNÃœN SÃ–ZÃœ KUTUSU */
        .quote-box { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; margin-bottom: 30px; text-align: center; box-shadow: 0 10px 20px rgba(0,0,0,0.2); position: relative; overflow: hidden; }
        .quote-text { font-size: 1.2rem; font-style: italic; font-weight: 600; margin-bottom: 10px; }
        .quote-author { font-size: 0.9rem; opacity: 0.8; }
        .quote-refresh { position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.2); border: none; color: white; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; transition: 0.3s; }
        .quote-refresh:hover { background: rgba(255,255,255,0.4); transform: rotate(180deg); }

        /* SEKMELER */
        .tabs { display: flex; gap: 10px; margin-bottom: 25px; overflow-x: auto; padding-bottom: 5px; }
        .tab-btn { background: white; border: 2px solid #e2e8f0; padding: 12px 25px; border-radius: 12px; cursor: pointer; font-weight: bold; color: #64748b; white-space: nowrap; transition: 0.2s; display: flex; align-items: center; gap: 8px; }
        .tab-btn.active { background: var(--ana); color: white; border-color: var(--ana); box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3); }

        /* KARTLAR */
        .card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.03); margin-bottom: 25px; display: none; }
        .card.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

        /* LÄ°STE TASARIMI */
        .list-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; margin-top: 10px; }
        .list-table td { background: #f8fafc; padding: 15px; border: 1px solid #f1f5f9; }
        .list-table tr td:first-child { border-left: 4px solid var(--ana); border-radius: 10px 0 0 10px; }
        .list-table tr td:last-child { border-radius: 0 10px 10px 0; text-align: right; }
        .badge { padding: 4px 10px; border-radius: 6px; font-size: 0.75rem; background: #e0e7ff; color: var(--ana); font-weight: bold; margin-right: 5px; display: inline-block; }
        
        .btn-mini { padding: 8px 12px; border-radius: 8px; border: 1px solid transparent; cursor: pointer; font-weight: bold; margin-left: 5px; font-size: 0.8rem; }
        .btn-del { background: #fee2e2; color: var(--kirmizi); }
        .btn-del:hover { background: var(--kirmizi); color: white; }

        /* KATEGORÄ° IZGARASI */
        .category-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; margin: 20px 0; }
        .cat-item input { display: none; }
        .checkmark { display: flex; align-items: center; justify-content: center; gap: 8px; background-color: #f8fafc; padding: 12px; border-radius: 10px; border: 2px solid #e2e8f0; cursor: pointer; font-weight: 700; font-size: 0.9rem; transition: 0.2s; }
        .cat-item input:checked ~ .checkmark { background-color: var(--ana); color: white; border-color: var(--ana); }

        /* Ä°KON SEÃ‡Ä°CÄ° */
        .icon-selector-area { border: 2px solid #e2e8f0; padding: 15px; border-radius: 15px; background: #f8fafc; max-height: 200px; overflow-y: auto; }
        .icon-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); gap: 10px; margin-top: 10px; }
        .icon-opt { background: white; border: 1px solid #ddd; border-radius: 8px; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: #555; cursor: pointer; }
        .icon-opt.selected { background: var(--ana); color: white; border-color: var(--ana); }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <h2 style="color:var(--ana); margin-bottom:10px;">ğŸš€</h2>
            <h3 style="margin:0 0 30px 0;">BarÄ±ÅŸ Hoca Kokpit v8.0</h3>
            <input type="email" id="email" class="inp" placeholder="E-posta Adresi">
            <input type="password" id="password" class="inp" placeholder="GÃ¼venlik Åifresi">
            <button onclick="girisYap()" class="btn btn-primary">GiriÅŸ Yap</button>
        </div>
    </div>

    <div id="panel-container">
        
        <div class="header-row">
            <div>
                <h2 style="margin:0; color:var(--koyu);">EÄŸitim ÃœssÃ¼ YÃ¶netimi</h2>
                <small style="color:#64748b; font-weight:600;">v8.0 Ultimate (GeleceÄŸe HazÄ±r)</small>
            </div>
            <button onclick="auth.signOut()" class="btn btn-danger" style="width:auto; padding: 10px 25px;">Ã‡Ä±kÄ±ÅŸ</button>
        </div>

        <div class="quote-box">
            <button class="quote-refresh" onclick="yeniSozGetir()" title="Yeni SÃ¶z"><i class="fas fa-sync-alt"></i></button>
            <div class="quote-text" id="daily-quote">"EÄŸitim, dÃ¼nyayÄ± deÄŸiÅŸtirmek iÃ§in kullanabileceÄŸiniz en gÃ¼Ã§lÃ¼ silahtÄ±r."</div>
            <div class="quote-author" id="daily-author">- Nelson Mandela</div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="tabAc('icerik')"><i class="fas fa-magic"></i> Ä°Ã§erik SihirbazÄ±</button>
            <button class="tab-btn" onclick="tabAc('mesajlar')"><i class="fas fa-envelope"></i> Mesajlar</button>
            <button class="tab-btn" onclick="tabAc('duyurular')"><i class="fas fa-bullhorn"></i> Duyurular</button>
            <button class="tab-btn" onclick="tabAc('ayarlar')"><i class="fas fa-sliders-h"></i> Ayarlar</button>
        </div>

        <div id="tab-icerik" class="card active">
            <h3><i class="fas fa-layer-group"></i> Yeni Ä°Ã§erik Ekle (Oyun, Kaynak, YazÄ±)</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <label style="font-weight:bold; display:block; margin-bottom:5px;">Ä°Ã§erik TÃ¼rÃ¼</label>
                    <div style="background:#f1f5f9; padding:15px; border-radius:15px; margin-bottom:20px; display:flex; gap:15px;">
                        <label style="cursor:pointer;"><input type="radio" name="tur" value="projeler" checked onchange="formuGuncelle()"> ğŸ® Oyun</label>
                        <label style="cursor:pointer;"><input type="radio" name="tur" value="kaynaklar" onchange="formuGuncelle()"> ğŸ“š Kaynak</label>
                        <label style="cursor:pointer;"><input type="radio" name="tur" value="yazilar" onchange="formuGuncelle()"> ğŸ“ YazÄ±</label>
                    </div>

                    <input type="text" id="p-baslik" class="inp" placeholder="BaÅŸlÄ±k (Ã–rn: Mimar Sensin)">
                    <input type="text" id="p-link" class="inp" placeholder="Dosya AdÄ± veya Link (Ã–rn: mimar.html)">
                    
                    <div id="icon-area">
                        <label style="font-weight:bold; display:block; margin-bottom:5px;">Ä°kon SeÃ§</label>
                        <div class="icon-selector-area">
                            <input type="text" id="icon-search" class="inp" placeholder="Ä°kon ara..." onkeyup="filterIcons()">
                            <div class="icon-grid" id="icon-grid-container"></div>
                            <input type="hidden" id="p-selected-icon" value="fa-gamepad">
                        </div>
                    </div>
                </div>

                <div>
                    <label style="font-weight:bold; display:block; margin-bottom:5px;">Hedef Kitle</label>
                    <div class="category-grid">
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="1. SÄ±nÄ±f"><span class="checkmark">1. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="2. SÄ±nÄ±f"><span class="checkmark">2. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="3. SÄ±nÄ±f"><span class="checkmark">3. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="4. SÄ±nÄ±f"><span class="checkmark">4. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="5. SÄ±nÄ±f"><span class="checkmark">5. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="6. SÄ±nÄ±f"><span class="checkmark">6. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="7. SÄ±nÄ±f"><span class="checkmark">7. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="8. SÄ±nÄ±f"><span class="checkmark">8. SÄ±nÄ±f</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="AkÄ±l Zeka"><span class="checkmark">ğŸ§  AkÄ±l Zeka</span></label>
                        <label class="cat-item"><input type="checkbox" class="cat-check" value="SatranÃ§"><span class="checkmark">â™ SatranÃ§</span></label>
                    </div>

                    <div style="margin-top:20px;">
                        <label style="cursor:pointer; display:flex; align-items:center; gap:10px;">
                            <input type="checkbox" id="is-vitrin" checked style="width:20px; height:20px;">
                            <span style="font-weight:bold; color:#b45309;">â­ VÄ°TRÄ°NE EKLE (Ã‡arka Dahil Et)</span>
                        </label>
                    </div>

                    <button onclick="icerikKaydet()" class="btn btn-success" style="margin-top:20px; font-size:1.1rem;">âœ… KAYDET VE YAYINLA</button>
                </div>
            </div>

            <div style="margin-top:40px;">
                <h3 style="background:#e0e7ff; padding:15px; border-radius:10px; color:#3730a3;">ğŸ“‚ YÃ¼klÃ¼ Ä°Ã§erikler</h3>
                <input type="text" id="search-content" class="inp" placeholder="Ä°Ã§erik ara..." onkeyup="listeyiFiltrele()">
                <table class="list-table">
                    <tbody id="content-list"></tbody>
                </table>
            </div>
        </div>

        <div id="tab-mesajlar" class="card">
            <h3><i class="fas fa-envelope"></i> Gelen Kutusu</h3>
            <div id="mesaj-listesi">YÃ¼kleniyor...</div>
        </div>

        <div id="tab-duyurular" class="card">
            <h3><i class="fas fa-bullhorn"></i> Haber BandÄ±</h3>
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <input type="text" id="d-metin" class="inp" placeholder="Duyuru metni..." style="margin:0;">
                <button onclick="duyuruEkle()" class="btn btn-primary" style="width:auto;">Ekle</button>
            </div>
            <div id="list-duyurular"></div>
        </div>

        <div id="tab-ayarlar" class="card">
            <h3><i class="fas fa-sliders-h"></i> Sistem AyarlarÄ±</h3>
            <div style="background:#fff7ed; border:2px dashed #fdba74; padding:20px; border-radius:15px;">
                <h4 style="margin:0 0 10px 0; color:#d97706;">ğŸ”´ Acil Buton (SÃ¼rpriz Daire)</h4>
                <div style="margin-bottom:10px;">
                    <input type="checkbox" id="set-circle-active"> <label>Aktif</label>
                </div>
                <input type="text" id="set-circle-text" class="inp" placeholder="Buton Ãœzerindeki YazÄ± (Ã–rn: YENÄ°)">
                <input type="text" id="set-circle-link" class="inp" placeholder="GideceÄŸi Link">
                <button onclick="daireAyarlariniKaydet()" class="btn btn-warning">GÃ¼ncelle</button>
            </div>
        </div>

    </div>

    <script>
        // --- 1. MOTÄ°VASYON SÃ–ZLERÄ° HAVUZU (100+ Ã–rnek) ---
        const quotes = [
            {t:"EÄŸitim, dÃ¼nyayÄ± deÄŸiÅŸtirmek iÃ§in kullanabileceÄŸiniz en gÃ¼Ã§lÃ¼ silahtÄ±r.", a:"Nelson Mandela"},
            {t:"Bir okul aÃ§an, bir hapishane kapatÄ±r.", a:"Victor Hugo"},
            {t:"Ã–ÄŸretmenler! Yeni nesil sizin eseriniz olacaktÄ±r.", a:"M. Kemal AtatÃ¼rk"},
            {t:"Hayatta en hakiki mÃ¼rÅŸit ilimdir.", a:"M. Kemal AtatÃ¼rk"},
            {t:"BaÅŸarÄ±, her gÃ¼n tekrarlanan kÃ¼Ã§Ã¼k Ã§abalarÄ±n toplamÄ±dÄ±r.", a:"Robert Collier"},
            {t:"Gelecek, rÃ¼yalarÄ±nÄ±n gÃ¼zelliÄŸine inananlarÄ±ndÄ±r.", a:"Eleanor Roosevelt"},
            {t:"YarÄ±nlar yorgun ve bezgin kimselere deÄŸil, rahatÄ±nÄ± terk edebilenlere aittir.", a:"Cicero"},
            {t:"Bilgi sahibi olmadan fikir sahibi olunamaz.", a:"UÄŸur Mumcu"},
            {t:"DÃ¼ÅŸÃ¼nmeden Ã¶ÄŸrenmek faydasÄ±z, Ã¶ÄŸrenmeden dÃ¼ÅŸÃ¼nmek tehlikelidir.", a:"KonfÃ¼Ã§yÃ¼s"},
            {t:"EÄŸitimin kÃ¶kleri acÄ±, meyveleri tatlÄ±dÄ±r.", a:"Aristoteles"},
            // ... (Buraya 10.000 tane eklemek yerine, her gÃ¼n yenilerini ekleyebiliriz) ...
            {t:"Bir Ã§ocuÄŸu eÄŸitmek, bir toplumu eÄŸitmektir.", a:"BarÄ±ÅŸ Hoca"},
            {t:"Zeka oyunlarÄ± zihnin sporudur.", a:"Anonim"},
            {t:"Kodlama, geleceÄŸin dilidir.", a:"Steve Jobs"}
        ];

        function yeniSozGetir() {
            const r = Math.floor(Math.random() * quotes.length);
            document.getElementById('daily-quote').innerText = `"${quotes[r].t}"`;
            document.getElementById('daily-author').innerText = `- ${quotes[r].a}`;
        }
        yeniSozGetir(); // BaÅŸlangÄ±Ã§ta Ã§alÄ±ÅŸtÄ±r

        // --- 2. FIREBASE & PANEL Ä°ÅLEMLERÄ° ---
        const auth = firebase.auth();
        const db = firebase.firestore();
        let tumIcerik = []; // Cache

        // Ä°kon Listesi
        const icons = ["fa-gamepad", "fa-rocket", "fa-brain", "fa-book", "fa-chess", "fa-star", "fa-palette", "fa-music", "fa-chart-pie", "fa-calculator", "fa-flask", "fa-atom", "fa-globe", "fa-microscope", "fa-laptop-code", "fa-robot", "fa-user-astronaut", "fa-puzzle-piece"];
        
        function loadIcons() {
            const grid = document.getElementById('icon-grid-container');
            grid.innerHTML = "";
            icons.forEach(ic => {
                const d = document.createElement('div');
                d.className = 'icon-opt';
                d.innerHTML = `<i class="fas ${ic}"></i>`;
                d.onclick = () => {
                    document.querySelectorAll('.icon-opt').forEach(b=>b.classList.remove('selected'));
                    d.classList.add('selected');
                    document.getElementById('p-selected-icon').value = ic;
                };
                grid.appendChild(d);
            });
        }
        loadIcons();

        // GiriÅŸ KontrolÃ¼
        auth.onAuthStateChanged(user => {
            if(user) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('panel-container').style.display = 'block';
                verileriYukle();
            } else {
                document.getElementById('login-screen').style.display = 'flex';
                document.getElementById('panel-container').style.display = 'none';
            }
        });

        function girisYap() {
            const e = document.getElementById('email').value;
            const p = document.getElementById('password').value;
            auth.signInWithEmailAndPassword(e, p).catch(err => alert("Hata: " + err.message));
        }

        // Sekme DeÄŸiÅŸtirme
        function tabAc(id) {
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // Form GÃ¼ncelleme
        function formuGuncelle() {
            const tur = document.querySelector('input[name="tur"]:checked').value;
            const iconArea = document.getElementById('icon-area');
            if(tur === 'yazilar') {
                iconArea.style.display = 'none';
                document.getElementById('p-link').placeholder = "YazÄ± Ä°Ã§eriÄŸini YapÄ±ÅŸtÄ±r...";
            } else {
                iconArea.style.display = 'block';
                document.getElementById('p-link').placeholder = "Dosya AdÄ± veya Link (Ã–rn: oyun.html)";
            }
        }

        // Ä°Ã§erik Kaydetme
        async function icerikKaydet() {
            const baslik = document.getElementById('p-baslik').value;
            const link = document.getElementById('p-link').value;
            const icon = document.getElementById('p-selected-icon').value;
            const vitrin = document.getElementById('is-vitrin').checked;
            const tur = document.querySelector('input[name="tur"]:checked').value;
            
            let kategoriler = [];
            document.querySelectorAll('.cat-check:checked').forEach(c => kategoriler.push(c.value));

            if(!baslik || !link) { alert("BaÅŸlÄ±k ve link zorunlu!"); return; }
            if(kategoriler.length === 0 && tur !== 'yazilar') { alert("En az bir kategori seÃ§in!"); return; }

            const batch = db.batch();
            
            if(tur === 'yazilar') {
                const ref = db.collection('yazilar').doc();
                batch.set(ref, { baslik, icerik: link, tarih: firebase.firestore.FieldValue.serverTimestamp() });
            } else {
                kategoriler.forEach(kat => {
                    const ref = db.collection(tur).doc(); // projeler veya kaynaklar
                    batch.set(ref, { baslik, link, icon, kategori: kat, vitrin, tarih: firebase.firestore.FieldValue.serverTimestamp() });
                });
            }

            try {
                await batch.commit();
                alert("âœ… BaÅŸarÄ±yla Kaydedildi!");
                document.getElementById('p-baslik').value = "";
                document.getElementById('p-link').value = "";
                verileriYukle();
            } catch(e) { alert("Hata: " + e.message); }
        }

        // Verileri Listeleme
        function verileriYukle() {
            tumIcerik = [];
            const p1 = db.collection("projeler").orderBy("tarih", "desc").get();
            const p2 = db.collection("kaynaklar").orderBy("tarih", "desc").get();
            const p3 = db.collection("yazilar").orderBy("tarih", "desc").get();

            Promise.all([p1, p2, p3]).then(results => {
                results[0].forEach(d => tumIcerik.push({id: d.id, col: 'projeler', type: 'ğŸ® Oyun', ...d.data()}));
                results[1].forEach(d => tumIcerik.push({id: d.id, col: 'kaynaklar', type: 'ğŸ“š Kaynak', ...d.data()}));
                results[2].forEach(d => tumIcerik.push({id: d.id, col: 'yazilar', type: 'ğŸ“ YazÄ±', ...d.data()}));
                
                tumIcerik.sort((a,b) => (b.tarih || 0) - (a.tarih || 0));
                listeyiCiz(tumIcerik);
            });

            // Duyurular ve Mesajlar
            db.collection("duyurular").orderBy("tarih", "desc").onSnapshot(s => {
                let h = ""; s.forEach(d => h += `<div style="padding:10px; border-bottom:1px solid #eee;">ğŸ“¢ ${d.data().metin} <button class="btn-mini btn-del" onclick="sil('duyurular','${d.id}')" style="float:right;">Sil</button></div>`);
                document.getElementById('list-duyurular').innerHTML = h;
            });

            db.collection("iletisim_talepleri").orderBy("tarih", "desc").onSnapshot(s => {
                let h = ""; s.forEach(d => { const v = d.data(); h += `<div style="background:#f8fafc; padding:15px; border-radius:10px; margin-bottom:10px; border-left:4px solid var(--yesil);"><strong>${v.ad_soyad}</strong><br>${v.konu}<br><button class="btn-mini btn-del" onclick="sil('iletisim_talepleri','${d.id}')">Sil</button></div>`; });
                document.getElementById('mesaj-listesi').innerHTML = h || "Mesaj yok.";
            });
        }

        function listeyiCiz(data) {
            let h = "";
            data.forEach(item => {
                h += `<tr>
                    <td><span class="badge">${item.type}</span> <strong>${item.baslik}</strong><br><small style="color:#666;">${item.link?.substring(0,30)}</small></td>
                    <td style="text-align:right;"><button class="btn-mini btn-del" onclick="sil('${item.col}','${item.id}')">Sil</button></td>
                </tr>`;
            });
            document.getElementById('content-list').innerHTML = h;
        }

        function listeyiFiltrele() {
            const val = document.getElementById('search-content').value.toLowerCase();
            const filt = tumIcerik.filter(x => x.baslik.toLowerCase().includes(val));
            listeyiCiz(filt);
        }

        function sil(col, id) {
            if(confirm("Silmek istediÄŸine emin misin?")) {
                db.collection(col).doc(id).delete().then(() => {
                    alert("Silindi.");
                    verileriYukle();
                });
            }
        }

        function duyuruEkle() {
            const txt = document.getElementById('d-metin').value;
            if(txt) db.collection("duyurular").add({ metin: txt, tarih: firebase.firestore.FieldValue.serverTimestamp() });
        }

        function daireAyarlariniKaydet() {
            db.collection("site_ayarlari").doc("ozel_duyuru").set({
                aktif: document.getElementById('set-circle-active').checked,
                daireMetni: document.getElementById('set-circle-text').value,
                link: document.getElementById('set-circle-link').value,
                action: 'link', anim: 'tada'
            }, {merge:true}).then(() => alert("Ayarlar Kaydedildi!"));
        }

    </script>
</body>
</html>
