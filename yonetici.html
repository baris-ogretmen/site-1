<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YÃ¶netici Paneli | BarÄ±ÅŸ Ä°lkan</title>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f1f5f9; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #2563eb; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #475569; }
        input, select, textarea { width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background: #2563eb; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: 0.3s; }
        button:hover { background: #1e40af; }
        .message { margin-top: 15px; padding: 15px; border-radius: 8px; display: none; text-align: center; font-weight: bold; }
        .success { background: #dcfce7; color: #166534; border: 1px solid #166534; }
        .error { background: #fee2e2; color: #991b1b; border: 1px solid #991b1b; }
        .tab-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { flex: 1; background: #e2e8f0; color: #333; border: none; padding: 10px; cursor: pointer; border-radius: 8px; }
        .tab-btn.active { background: #2563eb; color: white; }
    </style>
</head>
<body>

    <div class="container">
        <h2><i class="fas fa-user-cog"></i> YÃ¶netici Paneli</h2>
        
        <div class="tab-buttons">
            <button class="tab-btn active" id="btn-proje" onclick="tabDegis('proje')">Proje Ekle</button>
            <button class="tab-btn" id="btn-duyuru" onclick="tabDegis('duyuru')">Duyuru Ekle</button>
        </div>

        <div id="proje-formu">
            <div class="form-group">
                <label>Proje BaÅŸlÄ±ÄŸÄ±</label>
                <input type="text" id="p-baslik" placeholder="Ã–rn: BeyazÄ±t Bellek Oyunu">
            </div>
            <div class="form-group">
                <label>AÃ§Ä±klama</label>
                <textarea id="p-aciklama" rows="3" placeholder="Proje hakkÄ±nda kÄ±sa bilgi..."></textarea>
            </div>
            <div class="form-group">
                <label>Link (Dosya AdÄ±)</label>
                <input type="text" id="p-link" placeholder="Ã–rn: beyazit.html">
            </div>
            <div class="form-group">
                <label>Ä°kon SeÃ§</label>
                <select id="p-icon">
                    <option value="fa-brain">ğŸ§  Beyin (Zeka)</option>
                    <option value="fa-trophy">ğŸ† Kupa (YarÄ±ÅŸma)</option>
                    <option value="fa-gamepad">ğŸ® Oyun</option>
                    <option value="fa-chess-knight">â™ SatranÃ§</option>
                    <option value="fa-puzzle-piece">ğŸ§© Dikkat</option>
                </select>
            </div>
            <button onclick="projeEkle()">Projeyi VeritabanÄ±na Kaydet</button>
        </div>

        <div id="duyuru-formu" style="display:none;">
            <div class="form-group">
                <label>Duyuru Metni</label>
                <input type="text" id="d-metin" placeholder="Kayan bantta ne yazsÄ±n?">
            </div>
            <button onclick="duyuruEkle()">Duyuruyu VeritabanÄ±na Kaydet</button>
        </div>

        <div id="mesaj-kutusu" class="message"></div>
    </div>

    <script>
        // VeritabanÄ± BaÄŸlantÄ±sÄ±
        const db = firebase.firestore();

        function tabDegis(tip) {
            document.getElementById('proje-formu').style.display = tip === 'proje' ? 'block' : 'none';
            document.getElementById('duyuru-formu').style.display = tip === 'duyuru' ? 'block' : 'none';
            document.getElementById('btn-proje').classList.toggle('active', tip === 'proje');
            document.getElementById('btn-duyuru').classList.toggle('active', tip === 'duyuru');
        }

        function projeEkle() {
            const b = document.getElementById('p-baslik').value;
            const l = document.getElementById('p-link').value;

            if(!b || !l) {
                gosterMesaj("Hata: BaÅŸlÄ±k ve Link boÅŸ olamaz!", "error");
                return;
            }

            const data = {
                baslik: b,
                aciklama: document.getElementById('p-aciklama').value,
                link: l,
                icon: document.getElementById('p-icon').value,
                tarih: firebase.firestore.FieldValue.serverTimestamp()
            };

            db.collection("projeler").add(data).then(() => {
                gosterMesaj("Tebrikler! Proje baÅŸarÄ±yla buluta kaydedildi.", "success");
                document.querySelectorAll('input, textarea').forEach(i => i.value = "");
            }).catch((error) => {
                gosterMesaj("Hata OluÅŸtu: " + error.message, "error");
            });
        }

        function duyuruEkle() {
            const m = document.getElementById('d-metin').value;
            if(!m) return;

            db.collection("duyurular").add({
                metin: m,
                tarih: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                gosterMesaj("Duyuru baÅŸarÄ±yla kaydedildi!", "success");
                document.getElementById('d-metin').value = "";
            }).catch((error) => {
                gosterMesaj("Hata: " + error.message, "error");
            });
        }

        function gosterMesaj(metin, tip) {
            const k = document.getElementById('mesaj-kutusu');
            k.innerText = metin;
            k.className = "message " + tip;
            k.style.display = "block";
            // Mesaj 5 saniye kalsÄ±n sonra kapansÄ±n
            setTimeout(() => { k.style.display = "none"; }, 5000);
        }
    </script>
</body>
</html>
